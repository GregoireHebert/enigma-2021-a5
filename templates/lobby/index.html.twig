{% extends 'base.html.twig' %}

{% block title %}Lobby !{% endblock %}

{% block body %}

<main class="mt-5 px-4 sm:mt-6 sm:px-6 md:mt-8 lg:mt-10 lg:px-8 xl:mt-14 z-50">
    <div class="flex flex-col">
    {% if is_granted('ROLE_ADMIN') %}
        <h1>Joueurs enregistré ({{ queuingPlayers|length }})</h1>
        <ul>
        {% for queuingPlayer in queuingPlayers %}
            <li>{{ queuingPlayer.player.name }}</li>
        {% endfor %}
        </ul>
    {% else %}
        <h2 class="text-2xl font-bold leading-7 text-gray-900 sm:text-3xl items-center justify-center w-full flex">
            En attente de Match...
        </h2>
        <p class="text-gray-500">recherche de joueur en cours...</p>
        <p>l'algorithme essai de vous appairer avec un joueur du même niveau. à chaque tentative, si aucun joueur n'est trouvé, il augmentera la portée de la recherche aux niveaux supérieurs et inférieurs. Il itèrera jusqu'à vous trouver un adversaire.</p>
    {% endif %}

    <div class="rounded-md shadow mt-5">
        <a href="{{ path('lobbyExit') }}" class="w-full flex items-center justify-center px-8 py-3 border border-transparent text-base font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 md:py-4 md:text-lg md:px-10">
            Quitter le lobby
        </a>
    </div>
    </div>
</main>
    <script type="application/javascript">
        setTimeout(function()   {
            window.location.reload();
        }, 3000);
    </script>
{% endblock %}
